"use strict";(self.webpackChunksimple_note=self.webpackChunksimple_note||[]).push([[821],{2209:function(e,t,n){n.r(t);var s=n(1413),r=n(4942),a=n(5861),o=n(885),c=n(7757),i=n.n(c),u=n(2791),l=n(6030),d=n(629),f=n(8189),p=n(5042),h=n(8901),b=n(5501),m=n(9753),Z=n(184),v=function(){var e=(0,m.Z)(),t=e.addNewState,n=e.disabled,c=e.setDisabled,v=e.states,k=e.loading,x=e.setStates,y=e.setLoading,w=(0,l.I0)(),_=(0,u.useState)(!1),j=(0,o.Z)(_,2),C=j[0],g=j[1],S=(0,u.useState)({_id:"",bg:[""],title:"",body:"",delete:!1}),D=(0,o.Z)(S,2),E=D[0],M=D[1],N=(0,u.useMemo)((function(){return"title"}),[]),T=(0,u.useMemo)((function(){return"body"}),[]);(0,u.useEffect)((function(){v[N]&&v[T]?c(!1):c(!0)}),[v]);var q=(0,u.useCallback)(function(){var e=(0,a.Z)(i().mark((function e(t){var n,s,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),n=new Request("/api/user/note"),e.next=5,fetch(n,{method:"post",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 5:return s=e.sent,e.next=8,s.json();case 8:(r=e.sent).success&&(M(r.note),g(!0)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("err"+e.t0);case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),[]);return(0,u.useEffect)((function(){var e;C&&(w((0,b.kT)(E)),x((e={},(0,r.Z)(e,N,""),(0,r.Z)(e,T,""),e)),g(!1))}),[E,C]),(0,Z.jsxs)(h.Z,{mode:"create_note_container",children:[(0,Z.jsx)(f.Z,(0,s.Z)({},t({state:N,name:"title",placeholder:"title..."}))),(0,Z.jsx)(p.Z,(0,s.Z)({},t({state:T,name:"body",placeholder:"your notes..."}))),(0,Z.jsx)(d.Z,{isDisabled:n,loader:k,onClick:function(){return q(v)},mode:"create_note_btn",children:"Create new note."})]})};t.default=(0,u.memo)(v)}}]);
//# sourceMappingURL=NoteInput.fe06dd79.chunk.js.map