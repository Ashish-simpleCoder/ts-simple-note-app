{"version":3,"file":"static/js/NoteInput.d1985784.chunk.js","mappings":"4QAUMA,EAAY,WACd,OAAyEC,EAAAA,EAAAA,KAAlEC,EAAP,EAAOA,YAAaC,EAApB,EAAoBA,SAAUC,EAA9B,EAA8BA,YAAaC,EAA3C,EAA2CA,OAAQC,EAAnD,EAAmDA,QAASC,EAA5D,EAA4DA,UACtDC,GAAWC,EAAAA,EAAAA,MACjB,GAAgDC,EAAAA,EAAAA,WAAS,GAAzD,eAAOC,EAAP,KAAyBC,EAAzB,KACA,GAAgDF,EAAAA,EAAAA,UAAS,CAACG,IAAI,GAAGC,GAAI,CAAC,IAAKC,MAAO,GAAIC,KAAM,GAAGC,QAAQ,IAAvG,eAAOC,EAAP,KAAyBC,EAAzB,KAEMC,EAAa,QACbC,EAAY,QAGlBC,EAAAA,EAAAA,YAAU,WACFjB,EAAM,OAAiBA,EAAM,KAE3BD,GAAY,GADdA,GAAY,KAEjB,CAACC,IAEJ,IAAMkB,GAAmBC,EAAAA,EAAAA,aAAW,mCAAC,WAAMnB,GAAN,kGAEXoB,MAAM,sCAAuC,CAACC,OAAO,OAAQC,YAAa,UAAUX,KAAMY,KAAKC,UAAUxB,GAAQyB,QAAQ,CACvI,eAAgB,sBAHS,cAEvBC,EAFuB,gBAKVA,EAAIC,OALM,QAKvBC,EALuB,QAMrBC,UACJf,EAAoBc,EAAKE,MACzBvB,GAAoB,IARK,kDAW7BwB,QAAQC,IAAI,YAXiB,0DAAD,sDAajC,IAWH,OATAf,EAAAA,EAAAA,YAAU,WACe,IAAD,EAAjBX,IACCH,GAAS8B,EAAAA,EAAAA,IAAWpB,IACpBX,GAAS,eAAGa,EAAa,KAAhB,SAAqBC,EAAY,IAAjC,IACTT,GAAoB,MAEzB,CAAEM,EAAkBP,KAInB,UAAC,IAAD,CAAS4B,KAAK,wBAAd,WACI,SAAC,KAAD,UAAWrC,EAAY,CAACsC,MAAMpB,EAAYqB,KAAK,QAASC,YAAa,gBACrE,SAAC,KAAD,UAAcxC,EAAY,CAACsC,MAAOnB,EAAWoB,KAAK,OAAQC,YAAa,qBACvE,SAAC,IAAD,CAAQC,WAAYxC,EAAUyC,OAAQtC,EAASuC,QAAS,kBAAMtB,EAAiBlB,IAASkC,KAAK,kBAA7F,kCAIZ,WAAeO,EAAAA,EAAAA,MAAK9C","sources":["Pages/Note/Note.input.tsx"],"sourcesContent":["import { memo, useCallback, useEffect, useState } from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport Button from \"../../Components/PureComponents/Button\"\r\nimport Input from \"../../Components/PureComponents/Input\"\r\nimport Textarea from \"../../Components/PureComponents/Textarea\"\r\nimport Wrapper from \"../../Components/PureComponents/Wrapper\"\r\nimport { createNote } from \"../../Redux/slices/user.slice\"\r\nimport useForm from \"../../Utility/Hooks/useForm\"\r\n\r\n\r\nconst NoteInput = () => {\r\n    const {addNewState, disabled, setDisabled, states, loading, setStates} = useForm()\r\n    const dispatch = useDispatch()\r\n    const [shouldAddNewNote, setShouldAddNewNote] = useState(false)\r\n    const [newNoteToBeAdded, setNewNoteToBeAdded] = useState({_id:'',bg: [''], title: '', body: '',delete: false})\r\n\r\n    const TitleField = 'title'\r\n    const BodyField = 'body'\r\n\r\n\r\n    useEffect(() => {\r\n        if(!states[TitleField] || !states[BodyField]){\r\n            setDisabled(true)\r\n        }else setDisabled(false)\r\n    }, [states])\r\n\r\n    const handleCreateNote = useCallback(async(states: Record<any, any>) => {\r\n        try{\r\n            const res = await fetch('http://localhost:5000/api/user/note', {method:'post', credentials: 'include',body: JSON.stringify(states),headers:{\r\n                'Content-Type': 'application/json'\r\n            }})\r\n            const data = await res.json()\r\n            if(data.success){\r\n                setNewNoteToBeAdded(data.note)\r\n                setShouldAddNewNote(true)\r\n            }\r\n        }catch(err){\r\n            console.log('err' + err)\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if(shouldAddNewNote){\r\n            dispatch(createNote(newNoteToBeAdded))\r\n            setStates({[TitleField]: '', [BodyField]: ''})\r\n            setShouldAddNewNote(false)\r\n        }\r\n    }, [ newNoteToBeAdded, shouldAddNewNote])\r\n\r\n\r\n    return(\r\n        <Wrapper mode='create_note_container'>\r\n            <Input {...addNewState({state:TitleField, name:'title', placeholder: 'title...' })} />\r\n            <Textarea {...addNewState({state: BodyField, name:'body', placeholder: 'your notes...' })} />\r\n            <Button isDisabled={disabled} loader={loading} onClick={() => handleCreateNote(states)} mode='create_note_btn'>Create new note.</Button>\r\n        </Wrapper>\r\n    )\r\n}\r\nexport default memo(NoteInput)"],"names":["NoteInput","useForm","addNewState","disabled","setDisabled","states","loading","setStates","dispatch","useDispatch","useState","shouldAddNewNote","setShouldAddNewNote","_id","bg","title","body","delete","newNoteToBeAdded","setNewNoteToBeAdded","TitleField","BodyField","useEffect","handleCreateNote","useCallback","fetch","method","credentials","JSON","stringify","headers","res","json","data","success","note","console","log","createNote","mode","state","name","placeholder","isDisabled","loader","onClick","memo"],"sourceRoot":""}